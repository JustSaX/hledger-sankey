<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <body>
    <!-- Styles -->
<style>
#container {
    min-width: 300px;
    max-width: 1600px;
    height: 1000px;
    margin: 1em auto;
    border: 1px solid silver;
}

#csv {
	display: none;
}
</style>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/sankey.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://d3js.org/d3.v4.min.js"></script>

<div id="container"></div>

<!-- Chart code -->
<script>
    var raw_data = [];

    d3.csv("sankey.csv", function(error, data) {
      console.log(error);
  data.forEach(function (d) {
        console.log(d);
        raw_data.push([d.source, d.target, +d.value]);
      });


Highcharts.chart('container', {

    title: {
        text: 'Highcharts Sankey Diagram'
    },
    series: [{
        keys: ['from', 'to', 'weight'],
        data: raw_data,
        type: 'sankey',
        name: 'Sankey demo series'
    }]

    });

        });

</script>
</body>
</html>
